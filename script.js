  //All songs list
      let All_song = [
         {
          name: "Shri-Ram Bhagawan-Amritwani song",
          path: "https://aac.saavncdn.com/318/e9c498f0de82ce40f2371c718c9400b9_320.mp4",
          img: "https://www.gkprashnuttar.com/wp-content/uploads/2020/08/ram.jpg",
          singer: "Bhakati",
        },
        {
          name: "Shri-Durga Maa-Amritwani song",
          path: "https://raag.fm/files/mp3/128/Hindi-Singles/1026402/Durga Amritwani - (Raag.Fm).mp3",
          img: "https://imgeng.jagran.com/images/2021/apr/durga%20(3)1618279842566.jpg",
          singer: "Bhakati - Anuradha Paudwal",
        },
        {
          name: "Ram Nam Ke Heere Moti song",
          path: "https://www.myguru.in/upload/ringtones/1549092826Ram%20Naam%20Ke%20Heere%20Moti%20.mp3",
          img: "https://a10.gaanacdn.com/gn_img/albums/koMWQ7BKqL/oMWQNkMPbq/size_xxl.jpg",
          singer: "Bhakati - Mridul Krishan Shastri Ji",
        },
        {
          name: "Do Akshar Ka Pyaara Naam song",
          path: "Jai jai Ram Jai Shri Ram.mp3",
          img: "https://static.punjabkesari.in/multimedia/09_33_587452682ram-hanuman-ji.jpg",
          singer: "Bhakati - Song",
        },
        {
          name: "Maat Rang Chola Saje song",
          path: "mata.mp3",
          img: "https://www.maavaishnodevi.org/Home2020/img7.jpg",
          singer: "Bhakati - Mahendra Kapoor",
        },
        {
          name: "Radhe Radhe Japo Chale Aayenge Bihari",
          path: "https://raag.fm/files/mp3/128/Hindi/1140531/Radhey Radhey Japo Chale Ayenge Bihari - (Raag.Fm).mp3",
          img: "https://hindustanfeed.com/wp-content/uploads/2018/09/radha-krishna-jhoola.jpg",
          singer: "Bhakati -  Mridul Krishna Shastri Ji",
        },
        {
          name: "SIRF_TUM",
          path: "05_SIRF_TUM____S.MP3",
          img: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS_QRwRSjwTLL7VVOf9tEh5bjdOvc-KdW6rYvKSk9AmbchPaezjgw5Kxjzbv3IWDTiruQs&usqp=CAU",
          singer: "90's Song",
        },
        {
          name: "Aye Mere Humsafar - Aamir",
          path: "http://bdmusicboss.wapkiz.mobi/download/dl2/6732b18580e738dce376897aad441638/bdmusicboss+wapkiz+mobi/Aye-Mere-Humsafar-Full-Song-(bdmusicboss.wapkiz.mobi).mp3",
          img: "https://source.unsplash.com/random/300x200",
          singer: "90's Song",
        },
        {
          name: "Chappa Charkha Chale - Maachis",
          path: "https://mp3land.co/try/browse.php?u=https://pwdown.com/111945/03.%20Chappa%20Chappa%20Charkha%20Chale.mp3",
          img: "https://loremflickr.com/g/350/290/random",
          singer: "90's Song",
        },
        {
          name: "Dhoom pichak dhoom - song",
          path: "http://dl2.djring.com/sd2.djring.com/128/327932/Dhoom Pichak(DJJOhAL.Com).mp3",
          img: "https://source.unsplash.com/random/300x200/?color",
          singer: "90's Song - Palash Sen",
        },
        {
          name: "Khalbali song Range De Basanti",
          path: "Khalbali song Range De Basanti.mp3",
          img: "https://source.unsplash.com/random/300x200/?nature",
          singer: "90's Song - A.R Rahman",
        },
        {
          name: "Mujhe Raat Din Bas - Sangharsh",
          path: "Mujhe Raat Din Bas @ IndiaMp3.Com.mp3",
          img: "https://picsum.photos/200/300",
          singer: "90's Song",
        },
        {
          name: "Us Chand Ka Mukabla song",
          path: "https://mymp3bhojpuri.in/files/download/id/5654",
          img: "https://source.unsplash.com/random/300x200/?music",
          singer: "90's Song",
        },
        {
          name: "Khairiyat pucho song - Chhichhore",
          path: "https://raag.fm/files/mp3/128/Hindi/16093/Khairiyat (Happy) - (Raag.Fm).mp3",
          img: "https://source.unsplash.com/random/300x200",
          singer: "Arijit Singh",
        },
        {
          name: "afghan jalebi song",
          path: "https://pagalworldsongs.me/dl/download.php?id=45054&kbps=128kbps",
          img: "https://source.unsplash.com/random/300x200/?food",
          singer: "Phantom movie",
        },
        {
          name: "Soch Na Sake (Airlift)",
          path: "https://pagalfree.com/musics/128-Soch Na Sake - Airlift 128 Kbps.mp3",
          img: "https://source.unsplash.com/random/300x200/?airplane",
          singer: "Arijit Singh Tulsi Kumar",
        },
        {
          name: "Patola - Ni mitran di - song",
          path: "https://pagalsong.in/uploads/systemuploads/mp3/Blackmail/Patola (Blackmail) 128 Kbps.mp3",
          img: "https://source.unsplash.com/random/300x200/?light",
          singer: "Guru Randhawa",
        },
        {
          name: "High Rated Gabru - song",
          path: "https://www.djyogendra.com/files/download/id/729/High Rated Gabru (8D Audio) - Guru Randhawa.html",
          img: "https://source.unsplash.com/random/300x200/?plant",
          singer: "Guru Randhawa",
        },
        {
          name: "Lagdi Panjab diy- song",
          path: "https://jatt.download/music/data/Single_Track/201712/Lahore/128/Lahore_1.mp3",
          img: "https://source.unsplash.com/random/300x200/?flower",
          singer: "Guru Randhawa",
        },
        {
          name: "Suit suit karda - song",
          path: "https://pagalsong.in/uploads/systemuploads/mp3/Hindi Medium/Suit Suit (Hindi Medium) 128 Kbps.mp3",
          img: "https://source.unsplash.com/random/300x200/?clothes",
          singer: "Guru Randhawa",
        },
        {
          name: "Tera Mera Viah - song",
          path: "https://jatt.download/music/data/Single_Track/201910/Tera_Mera_Viah/128/Tera_Mera_Viah_1.mp3",
          img: "https://source.unsplash.com/random/300x200/?mountain",
          singer: "Bollywood",
        },
        {
          name: "The_Chainsmokers - song",
          path: "https://mymp3bhojpuri.in/files/download/id/4159",
          img: "https://picsum.photos/200/300",
          singer: "Hollywood",
        },
        {
          name: "ALONE - Song",
          path: "https://s3-us-west-2.amazonaws.com/s.cdpn.io/308622/Leo%20-%20Trying.mp3",
          img: "https://loremflickr.com/g/350/290/random",
          singer: "Hollywood",
        },
        {
          name: "Talaash movie Song",
          path: "02 - talaash - jee le zaraa [mp3khan.com].mp3",
          img: "https://picsum.photos/200/300",
          singer: "Aamir khan",
        },
        {
          name: "Chalo sajna jahan tak - song",
          path: "Chalo Sajna Jahan Tak.mp3",
          img: "https://source.unsplash.com/random/300x200/?sky",
          singer: "old is gold - Lata Mangeshkar",
        },
        {
          name: "Kaun hai jo sapno mein aaya",
          path: "Kon Hai Jo.mp3",
          img: "https://source.unsplash.com/random/300x200/?song",
          singer: "old is gold - M rafi",
        },
        {
          name: "Dil Ka Bhanwar Kare Pukaar - song",
          path: "https://raagjatt.net/songsm/128/10529/Dil Ka Bhanwar Kare Pukaar (RaagJatt.com).mp3",
          img: "https://source.unsplash.com/random/300x200/?style",
          singer: "old is gold - M rafi",
        },
        {
          name: "Aaya Hai Mujhe Phir Yaad - song",
          path: "https://raagjatt.net/songsm/128/23645/Aaya%20Hai%20Mujhe%20Phir%20Yaad%20(RaagJatt.com).mp3",
          img: "https://source.unsplash.com/random/300x200/?bike",
          singer: "old is gold - Mukesh Kumar",
        },
        {
          name: "Kis liye maine pyar kiya - song",
          path: "Kis liye maine pyar kiya.mp3",
          img: "https://source.unsplash.com/random/300x200/?music",
          singer: "old is gold - Anuradha Paudwal",
        },
        {
          name: "Na Apna Tha Jo Kal - song",
          path: "https://pagalsong.in/uploads/systemuploads/mp3/Jeevan Rekha/Na Apna Tha Jo Kal Guzra 128 Kbps.mp3",
          img: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRoaIo3OoX3fGHHsiUYIrsA69itkqywykOPTg&usqp=CAU",
          singer: "old is gold - Mukesh Kumar",
        },
        {
          name: "Pankh hote to ud aati re - song",
          path: "videoplayback.mp3",
          img: "https://source.unsplash.com/random/300x200/?car",
          singer: "old is gold",
        },
        {
          name: "Chal akela chal akela - song",
          path: "http://dl2.djring.com/sd2.djring.com/128/139410/Chal Akela Chal Akela  Sambandh(DJJOhAL.Com).mp3",
          img: "https://source.unsplash.com/random/300x200/?sound",
          singer: "old is gold - Babl metha",
        },
        {
          name: "Tere Baare Mein Jab - Ghazals",
          path: "https://jatt.download/music/data/Ghazals/201403/Jazbaa/128/Tere_Baare_Mein_Jab_Socha_Nahi_1.mp3",
          img: "https://source.unsplash.com/random/300x200",
          singer: "Ghazals - Jagjit Singh",
        },
        {
          name: "Tere Aane Ki Jab Khabar - Ghazals",
          path: "https://raag.fm/files/mp3/128/Hindi/1150958/Tere Aane Ki Jab Khabar Mehke - (Raag.Fm).mp3",
          img: "https://loremflickr.com/g/350/290/random",
          singer: "Ghazals - Jagjit Singh",
        },
        {
          name: "Tamanna-Phir-Machal-Jaye - Ghazals",
          path: "https://cdn5.upload.solutions/f7bd3de39005f8123c2dcababdf11117/hlmgv/Tamanna Phir Machal Jaaye-(Mr-Jatt.com).mp3",
          img: "https://picsum.photos/200/300",
          singer: "Ghazals - Jagjit Singh",
        },
        {
          name: "Mujhse Bichhad Ke Khush Rehte Ho",
          path: "http://dl2.djring.com/sd2.djring.com/128/3701/Mujhse Bichhad Ke Khush Rehte Ho(DJJOhAL.Com).mp3",
          img: "https://source.unsplash.com/random/300x200/?happy",
          singer: "Ghazals - Jagjit Singh",
        },
        {
          name: "Koi Fariyaad song",
          path: "https://jatt.download/music/data/Ghazals/201705/Jewels_Finest_Ghazal_Collection_CD1/128/Koi_Fariyaad.mp3",
          img: "https://source.unsplash.com/random/300x200/?nature-water",
          singer: "Ghazals - Jagjit Singh",
        },
        {
          name: "Choom Kar Madh Bhari Aankhon Se",
          path: "https://mp3wale.info/uploads/file/57d7a7f6c9772.mp3",
          img: "https://source.unsplash.com/random/300x200/?bottel",
          singer: "Pankaj Udas",
        },
        {
          name: "Kamariya Lollypop Lagelu - song",
          path: "http://bhojpuriwap.in/files/download/id/9914",
          img: "https://source.unsplash.com/random/300x200",
          singer: "Pawan Singh",
        },
      ];


      let playlist = document.querySelector(".playlist");
      let options = document.querySelector(".options");
      let previous = document.querySelector("#previous");
      let play = document.querySelector("#play");
      let next = document.querySelector("#next");
      let title = document.querySelector("#title");
      let recent_volume = document.querySelector("#volume");
      let volume_show = document.querySelector("#volume_show");
      let slider = document.querySelector("#duration_slider");
      let track_image = document.querySelector("#track_image");
      let auto_play = document.querySelector("#auto");
      let present = document.querySelector("#present");
      let total = document.querySelector("#total");
      let artist = document.querySelector("#artist");
      let repeatBtn = document.querySelector("#repeat-plist");

      let timer;
      let autoplay = 0;

      let Playing_song = false;

      //create a audio Element
      let track = document.createElement("audio");

      let index_no = Math.floor((Math.random() * All_song.length) + 0);

           load_track(index_no); 

      // function load the track
      function load_track(index_no) {
        clearInterval(timer);
        reset_slider();

        track.src = All_song[index_no].path;
        title.innerHTML = All_song[index_no].name;
        track_image.src = All_song[index_no].img;
        artist.innerHTML = All_song[index_no].singer;
        track.load();

        timer = setInterval(range_slider, 1000);
        total.innerHTML = All_song.length;
        present.innerHTML = index_no + 1;
      //  console.log(present);
      }

      //mute sound function
      function mute_sound() {
        track.volume = 0;
        volume.value = 0;
        volume_show.innerHTML = 0;
      }

      // checking.. the song is playing or not
      function justplay() {
        if (Playing_song == false) {
          playsong();
        } else {
          pausesong();
        }
      }

      // reset song slider
      function reset_slider() {
        slider.value = 0;
      }

      // play song
      function playsong() {
        track.play();
        Playing_song = true;
        play.innerHTML = '<i class="fa fa-pause" aria-hidden="true"></i>';
      }

      //pause song
      function pausesong() {
        track.pause();
        Playing_song = false;
        play.innerHTML = '<i class="fa fa-play" aria-hidden="true"></i>';
      }

      // next song
      function next_song() {
        if (index_no < All_song.length - 1) {
          index_no += 1;
          load_track(index_no);
          playsong();
        } else {
          index_no = 0;
          load_track(index_no);
          playsong();
        }
      }

      // previous song
      function previous_song() {
        if (index_no > 0) {
          index_no -= 1;
          load_track(index_no);
          playsong();
        } else {
          index_no = All_song.length;
          load_track(index_no);
          playsong();
        }
      }

      // change volume
      function volume_change() {
        volume_show.innerHTML = recent_volume.value;
        track.volume = recent_volume.value / 100;
      }

      // change slider position
      function change_duration() {
        slider_position = track.duration * (slider.value / 100);
        track.currentTime = slider_position;
      }

      // autoplay function
       var c = true;
      function autoplay_switch() {
        if (autoplay == 1) {
          autoplay = 0;
          auto_play.style.background = "rgba(255,255,255,0.2)";
           c = true;
         // repeatrs.style.background = "#FF8A65";
         } else {
          autoplay = 1;
          auto_play.style.background = "#FF8A65";
            c = false;
        //  repeatrs.style.background = "rgba(255,255,255,0.2)";
        }
       // console.log(c);
      }


      function range_slider() {
        let position = 0;
        // update slider position
        if (!isNaN(track.duration)) {
          position = track.currentTime * (100 / track.duration);
          slider.value = position;

        let totalMin = Math.floor(track.duration / 60);
        let totalSec = Math.floor(track.duration % 60);
          
          if(totalSec < 10) { //if sec is less than 10 then add 0 before it
             totalSec = `0${totalSec}`;
           }
         var Duration = document.getElementById('max-duration').innerHTML = `${totalMin}:${totalSec}`;

         let currentMin = Math.floor(track.currentTime / 60);
          let currentSec = Math.floor(track.currentTime % 60);
          if(currentSec < 10){ //if sec is less than 10 then add 0 before it
            currentSec = `0${currentSec}`;
          }

       var CurrentTime = document.getElementById('current-time').innerText = `${currentMin}:${currentSec}`;
        }

        // function will run when the song is over
        if (track.ended) {
          play.innerHTML = '<i class="fa fa-play" aria-hidden="true"></i>';
          if (autoplay == 1) {
            index_no += 1;
            load_track(index_no);
            playsong();
          }
        }
      }

 //change loop, shuffle, repeat icon onclick
  var e = false;
    repeatBtn.addEventListener("click", ()=>{
     let getText = repeatBtn.innerText; //getting this tag innerText
      if(c)
      switch(getText){
        case "repeat":
          repeatBtn.innerText = "repeat_one";
          repeatBtn.setAttribute("title", "Song looped");
        e = document.getElementById("auto").disabled = true;
          repeatrs.style.background = "#FF8A65";
          break;
        case "repeat_one":
          repeatBtn.innerText = "shuffle";
          repeatBtn.setAttribute("title", "Playback shuffled");
         e = document.getElementById("auto").disabled = true;
          repeatrs.style.background = "#FF8A65";
          break;
        case "shuffle":
          repeatBtn.innerText = "repeat";
          repeatBtn.setAttribute("title", "Playlist looped");
          e = document.getElementById("auto").disabled = false;
          repeatrs.style.background = "rgba(0, 0, 0, 0)";
          break;
      } 
    //  console.log(e);
    });


  //code for what to do after song ended
 track.addEventListener("ended", ()=>{
  // we'll do according to the icon means if user has set icon to
  // loop song then we'll repeat the current song and will do accordingly
  let getText = repeatBtn.innerText; //getting this tag innerText
  switch(getText){
    case "repeat":
     // next_song(); //calling next_song function
      break;
    case "repeat_one":
     track.currentTime = 0; //setting audio current time to 0
      load_track(index_no); //calling loadMusic function with argument, in the argument there is a index of current song
     playsong(); //calling playsong() function
      break;
    case "shuffle":
      let randIndex = Math.floor((Math.random() * All_song.length) + 1); //genereting random index/numb with max range of array length
      do{
        randIndex = Math.floor((Math.random() * All_song.length) + 1);
      }while(index_no === randIndex); //this loop run until the next random number won't be the same of current musicIndex
      index_no = parseInt(randIndex); //passing randomIndex to musicIndex
      load_track(index_no);
      playsong();
     // playingSong();
      break;
    }
   });

 // volume SideBar
  function sidebar() {
        options.classList.toggle("active2");
      }

 // music list
  function open_p() {
        playlist.classList.toggle("active");
      }

  var listTag = document.querySelector(".playlist");
// let create div tags according to array length for list
    for (let i = 0; i < All_song.length; i++) {
      //let's pass the song name, artist from the array
      let divTag = `<div div-index="${i + 0}" class="p_song">
                        <p id="p_title">${All_song[i].name}</p>
                        <p id="p_artist">${All_song[i].singer} 
                         <i id="duration">
                          <span id="${All_song[i].path}" class="audio-duration"> - </span>
                         </i> 
                        </p>
                        <audio class="${All_song[i].path}" src="${All_song[i].path}"></audio>
                        <button id="plays">
                          <i class="bx bx-play"></i>
                        </button>
                       </div>`;

     listTag.insertAdjacentHTML("beforeend", divTag); //inserting the list inside div tag 
  }

    playingNow(); 
    
  function playingNow() {
   var allListTag = listTag.querySelectorAll(".p_song");
    for (let j = 0; j < allListTag.length; j++) {
      let audioTag = allListTag[j].querySelector("#plays");

     if(allListTag[j].classList.contains("playing")){
       allListTag[j].classList.remove("playing");
       audioTag.innerHTML = '<i class="fa fa-play" aria-hidden="true"></i>';
     }
    
    if(allListTag[j].getAttribute("div-index") == index_no){
      allListTag[j].classList.add("playing");
      audioTag.innerHTML = '<i class="fa fa-pause" aria-hidden="true"></i>';
    }

    allListTag[j].setAttribute("onclick", "clicked(this)");
  }
 }

   function clicked(element){
      let getDivIndex = element.getAttribute("div-index");
      index_no = parseInt(getDivIndex); //updating current song index with clicked list index
      load_track(index_no);
      playsong();
      playingNow();
    }


  // jQuery part----------------------
   $(document).ready(function() {
   $("#side").click(function() {
   $("#text").toggle();
    });
   });

